<!-- to tests run: rostest path_planner rostest.tests -->
<launch>
    <node pkg="path_planner" name="path_planner_partner_node" type="path_planner_partner_node.py" >
    </node>
    <node pkg="path_planner" name="path_planner_node" type="path_planner_node.py">
      <rosparam command="load" file="$(find path_planner)/config/config.yaml"/>
   </node>

   <!-- Run unittest and rostest for services -->
    <test pkg="path_planner" type="potential_relative_goal_obsticle_test.py" test-name="goal_obstacle_test"/>
    <test pkg="path_planner" type="potential_relative_wind_test.py" test-name="potential_relative_wind_test"/>
    <test pkg="path_planner" type="speed_polar_diagram_test.py" test-name="speed_polar_diagram_test"/>


    <!-- Run publish tests -->
    <test pkg="rostest" type="hztest" test-name="path_planner_heading_test">
        <param name="topic" value="/path_planner/heading"/>
        <param name="hz" value="1"/>
        <param name="hzerror" value="0.5"/>
        <param name="test_duration" value="10.0"/>
    </test>

    <test name="publishtest" pkg="rostest" type="publishtest" test-name="pub_test" >
        <rosparam>
            topics:
              - name: /path_planner/heading
                timeout: 10
                negative: False
        </rosparam>
    </test>
</launch>

