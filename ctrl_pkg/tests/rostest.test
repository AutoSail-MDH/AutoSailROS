<launch>
   <node pkg="ctrl_pkg" name="sail_controller" type="sail_node.py">
      <rosparam command="load" file="$(find ctrl_pkg)/config/config.yaml"/>
   </node>

   <!-- Run unittest and rostest for services -->
    <test pkg="ctrl_pkg" type="unittest_sailcontroller.py" test-name="unittest_sailcontroller"/>
    <test pkg="ctrl_pkg" type="unittest_rudder_controller.py" test-name="unittest_rudder_controller"/>

    <!-- Run publish tests -->
    <test pkg="ctrl_pkg" type="hztest" test-name="hztest1">
        <param name="topic" value="angle_rad"/>
        <param name="hz" value="60"/>
        <param name="hzerror" value="0.5"/>
        <param name="test_duration" value="10.0"/>
    </test>

</launch>

<!-- hztest -->
<launch>
  <node name="rudder_controller" pkg="ctrl_pkg" type="rudder_controller.py" />

  <param name="hztest1/topic" value="chatter" />
  <param name="hztest1/hz" value="10.0" />
  <param name="hztest1/hzerror" value="0.5" />
  <param name="hztest1/test_duration" value="5.0" />
  <test test-name="hztest_test" pkg="rostest" type="hztest" name="hztest1" />
</launch>
